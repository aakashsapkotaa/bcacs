<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Environmental Science - BCA III Question Bank</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <style>
        .mcq-options {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .mcq-option {
            padding: 0.75rem 1rem;
            background: var(--bg-secondary, #f1f5f9);
            border-radius: 0.5rem;
            border-left: 3px solid var(--border-color, #e2e8f0);
        }

        .mcq-option:hover {
            background: var(--bg-tertiary, #e2e8f0);
        }
    </style>
</head>

<body>
    <div class="app-container" id="appContainer">
        <div class="sidebar-overlay" id="sidebarOverlay"></div>
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div>
                    <p id="currentSubjectTitle">üåø Environmental Science</p>
                    <p>BCA III Question Bank</p>
                </div>
                <button class="close-btn" id="closeSidebar">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="module-tabs" id="moduleTabs">
                <button class="module-tab active" data-module="1">M1</button>
                <button class="module-tab" data-module="2">M2</button>
                <button class="module-tab" data-module="3">M3</button>
                <button class="module-tab" data-module="4">M4</button>
                <button class="module-tab" data-module="5">M5</button>
                <button class="module-tab" data-module="IMP">IMP</button>
            </div>
            <div class="module-title" id="moduleTitle">Module 1: Ecosystems & Biodiversity</div>
            <nav class="sidebar-nav" id="questionList"></nav>
            <div class="sidebar-footer">
                <a href="index.html" class="back-link">‚Üê Back to Home</a>
            </div>
        </aside>
        <main class="main-content">
            <header class="mobile-header">
                <button class="menu-btn" id="openSidebar">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                <span id="mobileTitle">Module 1 MCQs</span>
                <a href="index.html" class="home-btn" title="Back to Home">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                </a>
            </header>
            <div class="content-wrapper">
                <div class="content-container" id="contentContainer"></div>
            </div>
        </main>
    </div>

    <!-- Environmental Science Modules -->
    <script src="es/module1.js"></script>
    <script src="es/module2.js"></script>
    <script src="es/module3.js"></script>
    <script src="es/module4.js"></script>
    <script src="es/module5.js"></script>
    <script src="es/important.js"></script>

    <script>
        // Environmental Science Module Data Structure
        const esModuleData = {
            1: {
                title: "Ecosystems & Biodiversity",
                questions: [
                    { id: 1, title: 'MCQ 1: Ecology Origin', type: 'theory' },
                    { id: 2, title: 'MCQ 2: Autecology', type: 'theory' },
                    { id: 3, title: 'MCQ 3: Ecosystem Types', type: 'theory' },
                    { id: 4, title: 'MCQ 4: Largest Ecosystem', type: 'theory' },
                    { id: 5, title: 'MCQ 5: Biotic Components', type: 'theory' },
                    { id: 6, title: 'MCQ 6: Producers', type: 'theory' },
                    { id: 7, title: 'MCQ 7: Tertiary Consumers', type: 'theory' },
                    { id: 8, title: 'MCQ 8: Decomposition', type: 'theory' },
                    { id: 9, title: 'MCQ 9: Energy Source', type: 'theory' },
                    { id: 10, title: 'MCQ 10: Forest Canopy', type: 'theory' },
                    { id: 11, title: 'MCQ 11: Desert Plants', type: 'theory' },
                    { id: 12, title: 'MCQ 12: Mangroves', type: 'theory' },
                    { id: 13, title: 'MCQ 13: River Zones', type: 'theory' },
                    { id: 14, title: 'MCQ 14: Ocean Zones', type: 'theory' },
                    { id: 15, title: 'MCQ 15: Lake Zones', type: 'theory' },
                    { id: 16, title: 'MCQ 16: Energy Flow', type: 'theory' },
                    { id: 17, title: 'MCQ 17: Nutrient Cycles', type: 'theory' },
                    { id: 18, title: 'MCQ 18: Nitrogen Cycle', type: 'theory' },
                    { id: 19, title: 'MCQ 19: Genetic Diversity', type: 'theory' },
                    { id: 20, title: 'MCQ 20: Biodiversity Hotspot', type: 'theory' },
                    { id: 21, title: 'MCQ 21: Species Richness', type: 'theory' },
                    { id: 22, title: 'MCQ 22: In-situ Conservation', type: 'theory' },
                    { id: 23, title: 'MCQ 23: IUCN Red List', type: 'theory' },
                    { id: 24, title: 'MCQ 24: Invasive Species', type: 'theory' },
                    { id: 25, title: 'MCQ 25: Habitat Destruction', type: 'theory' },
                    { id: 26, title: 'MCQ 26: Coral Bleaching', type: 'theory' },
                    { id: 27, title: 'MCQ 27: First National Park', type: 'theory' },
                    { id: 28, title: 'MCQ 28: Ex-situ Conservation', type: 'theory' },
                    { id: 29, title: 'MCQ 29: Project Tiger', type: 'theory' },
                    { id: 30, title: 'MCQ 30: Red Data Book', type: 'theory' },
                    { id: 31, title: 'MCQ 31: Chipko Movement', type: 'theory' },
                    { id: 32, title: 'MCQ 32: Food Chain', type: 'theory' },
                    { id: 33, title: 'MCQ 33: Ecological Succession', type: 'theory' },
                    { id: 34, title: 'MCQ 34: Eutrophication', type: 'theory' },
                    { id: 35, title: 'MCQ 35: Global Warming', type: 'theory' },
                ]
            },
            2: {
                title: "Energy Systems & NRM",
                questions: [
                    { id: 1, title: 'MCQ 1: Hydrogen Fuel', type: 'theory' },
                    { id: 2, title: 'MCQ 2: Hydrogen Storage', type: 'theory' },
                    { id: 3, title: 'MCQ 3: Fuel Cells', type: 'theory' },
                    { id: 4, title: 'MCQ 4: Hydrogen Problem', type: 'theory' },
                    { id: 5, title: 'MCQ 5: Photovoltaic Cells', type: 'theory' },
                    { id: 6, title: 'MCQ 6: Solar Cell Material', type: 'theory' },
                    { id: 7, title: 'MCQ 7: Solar Thermal', type: 'theory' },
                    { id: 8, title: 'MCQ 8: Wind Energy', type: 'theory' },
                    { id: 9, title: 'MCQ 9: Wind Turbine Capacity', type: 'theory' },
                    { id: 10, title: 'MCQ 10: Onshore Turbines', type: 'theory' },
                    { id: 11, title: 'MCQ 11: Biomass', type: 'theory' },
                    { id: 12, title: 'MCQ 12: Biogas', type: 'theory' },
                    { id: 13, title: 'MCQ 13: Tidal Energy', type: 'theory' },
                    { id: 14, title: 'MCQ 14: Wave Energy', type: 'theory' },
                    { id: 15, title: 'MCQ 15: OWC Devices', type: 'theory' },
                    { id: 16, title: 'MCQ 16: Geothermal Energy', type: 'theory' },
                    { id: 17, title: 'MCQ 17: Geothermal Use', type: 'theory' },
                    { id: 18, title: 'MCQ 18: Fuel Cell vs Battery', type: 'theory' },
                    { id: 19, title: 'MCQ 19: Smart Grids', type: 'theory' },
                    { id: 20, title: 'MCQ 20: Energy Systems', type: 'theory' },
                    { id: 21, title: 'MCQ 21: NRM Aims', type: 'theory' },
                    { id: 22, title: 'MCQ 22: NRM Principle', type: 'theory' },
                    { id: 23, title: 'MCQ 23: Watershed Management', type: 'theory' },
                    { id: 24, title: 'MCQ 24: Renewable Resources', type: 'theory' },
                    { id: 25, title: 'MCQ 25: Biodiversity in NRM', type: 'theory' },
                    { id: 26, title: 'MCQ 26: Disaster Management', type: 'theory' },
                    { id: 27, title: 'MCQ 27: DM Phases', type: 'theory' },
                    { id: 28, title: 'MCQ 28: Mangroves', type: 'theory' },
                    { id: 29, title: 'MCQ 29: Structural Measures', type: 'theory' },
                    { id: 30, title: 'MCQ 30: Non-structural Measures', type: 'theory' },
                    { id: 31, title: 'MCQ 31: Sustainable Mining', type: 'theory' },
                    { id: 32, title: 'MCQ 32: Mining Impact', type: 'theory' },
                    { id: 33, title: 'MCQ 33: Carbon Trading', type: 'theory' },
                    { id: 34, title: 'MCQ 34: Carbon Credits', type: 'theory' },
                    { id: 35, title: 'MCQ 35: Kyoto Protocol', type: 'theory' },
                ]
            },
            3: {
                title: "Environmental Pollution",
                questions: [
                    { id: 1, title: 'MCQ 1: Surface Water', type: 'theory' },
                    { id: 2, title: 'MCQ 2: Eutrophication', type: 'theory' },
                    { id: 3, title: 'MCQ 3: Heavy Metals', type: 'theory' },
                    { id: 4, title: 'MCQ 4: Suspended Solids', type: 'theory' },
                    { id: 5, title: 'MCQ 5: Oil Spills', type: 'theory' },
                    { id: 6, title: 'MCQ 6: Blue Baby Syndrome', type: 'theory' },
                    { id: 7, title: 'MCQ 7: Groundwater Pollution', type: 'theory' },
                    { id: 8, title: 'MCQ 8: Saltwater Intrusion', type: 'theory' },
                    { id: 9, title: 'MCQ 9: Groundwater Pollutants', type: 'theory' },
                    { id: 10, title: 'MCQ 10: Landfill Pollution', type: 'theory' },
                    { id: 11, title: 'MCQ 11: Soil Heavy Metals', type: 'theory' },
                    { id: 12, title: 'MCQ 12: Chemical Fertilizers', type: 'theory' },
                    { id: 13, title: 'MCQ 13: Plastics in Soil', type: 'theory' },
                    { id: 14, title: 'MCQ 14: Phytoremediation', type: 'theory' },
                    { id: 15, title: 'MCQ 15: Natural Soil Pollution', type: 'theory' },
                    { id: 16, title: 'MCQ 16: Air Pollution Definition', type: 'theory' },
                    { id: 17, title: 'MCQ 17: Natural Air Pollution', type: 'theory' },
                    { id: 18, title: 'MCQ 18: Particulate Removal', type: 'theory' },
                    { id: 19, title: 'MCQ 19: Dioxins & Furans', type: 'theory' },
                    { id: 20, title: 'MCQ 20: Noise at 120 dB', type: 'theory' },
                    { id: 21, title: 'MCQ 21: Municipal Waste', type: 'theory' },
                    { id: 22, title: 'MCQ 22: Landfill Methane', type: 'theory' },
                    { id: 23, title: 'MCQ 23: Leachate', type: 'theory' },
                    { id: 24, title: 'MCQ 24: E-waste Recycling', type: 'theory' },
                    { id: 25, title: 'MCQ 25: EPR', type: 'theory' },
                    { id: 26, title: 'MCQ 26: Hazardous Waste', type: 'theory' },
                    { id: 27, title: 'MCQ 27: Hazardous Disposal', type: 'theory' },
                    { id: 28, title: 'MCQ 28: Biomedical Sharps', type: 'theory' },
                    { id: 29, title: 'MCQ 29: Basel Convention', type: 'theory' },
                    { id: 30, title: 'MCQ 30: Incineration Temp', type: 'theory' },
                    { id: 31, title: 'MCQ 31: Anatomical Waste', type: 'theory' },
                    { id: 32, title: 'MCQ 32: Soiled Waste', type: 'theory' },
                    { id: 33, title: 'MCQ 33: Pharmaceutical Waste', type: 'theory' },
                    { id: 34, title: 'MCQ 34: Incineration Ash', type: 'theory' },
                    { id: 35, title: 'MCQ 35: Liquid Waste', type: 'theory' },
                    { id: 36, title: 'MCQ 36: Noise Definition', type: 'theory' },
                    { id: 37, title: 'MCQ 37: Hearing Loss', type: 'theory' },
                    { id: 38, title: 'MCQ 38: Noise Effects', type: 'theory' },
                    { id: 39, title: 'MCQ 39: Noise Control', type: 'theory' },
                    { id: 40, title: 'MCQ 40: Noise 120 dB', type: 'theory' },
                ]
            },
            4: {
                title: "Global Environmental Concerns",
                questions: [
                    { id: 1, title: 'MCQ 1: Groundwater Depletion', type: 'theory' },
                    { id: 2, title: 'MCQ 2: Agriculture Depletion', type: 'theory' },
                    { id: 3, title: 'MCQ 3: Land Subsidence', type: 'theory' },
                    { id: 4, title: 'MCQ 4: Aquifer Recharge', type: 'theory' },
                    { id: 5, title: 'MCQ 5: MAR', type: 'theory' },
                    { id: 6, title: 'MCQ 6: Global Warming Gas', type: 'theory' },
                    { id: 7, title: 'MCQ 7: Methane Potency', type: 'theory' },
                    { id: 8, title: 'MCQ 8: Paris Agreement', type: 'theory' },
                    { id: 9, title: 'MCQ 9: Deforestation Impact', type: 'theory' },
                    { id: 10, title: 'MCQ 10: Greenhouse Gases', type: 'theory' },
                    { id: 11, title: 'MCQ 11: Ocean Acidification', type: 'theory' },
                    { id: 12, title: 'MCQ 12: Climate Change Cause', type: 'theory' },
                    { id: 13, title: 'MCQ 13: Kyoto Protocol', type: 'theory' },
                    { id: 14, title: 'MCQ 14: Melting Glaciers', type: 'theory' },
                    { id: 15, title: 'MCQ 15: Climate Agriculture', type: 'theory' },
                    { id: 16, title: 'MCQ 16: Acid Rain pH', type: 'theory' },
                    { id: 17, title: 'MCQ 17: Acid Rain Pollutants', type: 'theory' },
                    { id: 18, title: 'MCQ 18: Taj Mahal', type: 'theory' },
                    { id: 19, title: 'MCQ 19: Desulfurization', type: 'theory' },
                    { id: 20, title: 'MCQ 20: Acid Rain Aquatic', type: 'theory' },
                    { id: 21, title: 'MCQ 21: Ozone Layer', type: 'theory' },
                    { id: 22, title: 'MCQ 22: Ozone Depletion', type: 'theory' },
                    { id: 23, title: 'MCQ 23: Montreal Protocol', type: 'theory' },
                    { id: 24, title: 'MCQ 24: Ozone Hole', type: 'theory' },
                    { id: 25, title: 'MCQ 25: UV Health Effect', type: 'theory' },
                    { id: 26, title: 'MCQ 26: Radon Origin', type: 'theory' },
                    { id: 27, title: 'MCQ 27: Radon Health Risk', type: 'theory' },
                    { id: 28, title: 'MCQ 28: Fluoride Effects', type: 'theory' },
                    { id: 29, title: 'MCQ 29: WHO Fluoride Level', type: 'theory' },
                    { id: 30, title: 'MCQ 30: Nalgonda Technique', type: 'theory' },
                    { id: 31, title: 'MCQ 31: R&R Aim', type: 'theory' },
                    { id: 32, title: 'MCQ 32: Narmada Bachao', type: 'theory' },
                    { id: 33, title: 'MCQ 33: R&R Principle', type: 'theory' },
                    { id: 34, title: 'MCQ 34: Bioaccumulation', type: 'theory' },
                    { id: 35, title: 'MCQ 35: POPs Example', type: 'theory' },
                ]
            },
            5: {
                title: "Population & Disaster Mgt",
                questions: [
                    { id: 1, title: 'MCQ 1: Population Growth', type: 'theory' },
                    { id: 2, title: 'MCQ 2: Global Population', type: 'theory' },
                    { id: 3, title: 'MCQ 3: Rapid Growth Country', type: 'theory' },
                    { id: 4, title: 'MCQ 4: Growth Reason', type: 'theory' },
                    { id: 5, title: 'MCQ 5: Life Expectancy', type: 'theory' },
                    { id: 6, title: 'MCQ 6: India Life Expectancy', type: 'theory' },
                    { id: 7, title: 'MCQ 7: Cultural Beliefs', type: 'theory' },
                    { id: 8, title: 'MCQ 8: City Overcrowding', type: 'theory' },
                    { id: 9, title: 'MCQ 9: Deforestation Cause', type: 'theory' },
                    { id: 10, title: 'MCQ 10: Population Effects', type: 'theory' },
                    { id: 11, title: 'MCQ 11: Soil Degradation', type: 'theory' },
                    { id: 12, title: 'MCQ 12: Water Diseases', type: 'theory' },
                    { id: 13, title: 'MCQ 13: Population Impact', type: 'theory' },
                    { id: 14, title: 'MCQ 14: Sustainable Solution', type: 'theory' },
                    { id: 15, title: 'MCQ 15: Women Empowerment', type: 'theory' },
                    { id: 16, title: 'MCQ 16: R&R Definition', type: 'theory' },
                    { id: 17, title: 'MCQ 17: Displacement Causes', type: 'theory' },
                    { id: 18, title: 'MCQ 18: Dam Protest', type: 'theory' },
                    { id: 19, title: 'MCQ 19: Tehri Dam', type: 'theory' },
                    { id: 20, title: 'MCQ 20: R&R Key Principle', type: 'theory' },
                    { id: 21, title: 'MCQ 21: Community Involvement', type: 'theory' },
                    { id: 22, title: 'MCQ 22: R&R Goal', type: 'theory' },
                    { id: 23, title: 'MCQ 23: Disaster Management', type: 'theory' },
                    { id: 24, title: 'MCQ 24: Natural Disaster', type: 'theory' },
                    { id: 25, title: 'MCQ 25: Kosi Flood', type: 'theory' },
                    { id: 26, title: 'MCQ 26: Gujarat Earthquake', type: 'theory' },
                    { id: 27, title: 'MCQ 27: Richter Scale', type: 'theory' },
                    { id: 28, title: 'MCQ 28: Cyclone Fani', type: 'theory' },
                    { id: 29, title: 'MCQ 29: Fani Wind Speed', type: 'theory' },
                    { id: 30, title: 'MCQ 30: Landslide Causes', type: 'theory' },
                    { id: 31, title: 'MCQ 31: Kedarnath', type: 'theory' },
                    { id: 32, title: 'MCQ 32: Flood Control', type: 'theory' },
                    { id: 33, title: 'MCQ 33: NDMA', type: 'theory' },
                    { id: 34, title: 'MCQ 34: NDRF', type: 'theory' },
                    { id: 35, title: 'MCQ 35: DM Cycle', type: 'theory' },
                ]
            },
            IMP: {
                title: "Top 50 Important MCQs",
                questions: [
                    { id: 1, title: 'MCQ 1: Ecology Origin', type: 'theory' },
                    { id: 2, title: 'MCQ 2: Energy Source', type: 'theory' },
                    { id: 3, title: 'MCQ 3: Energy Flow', type: 'theory' },
                    { id: 4, title: 'MCQ 4: Food Chain', type: 'theory' },
                    { id: 5, title: 'MCQ 5: Biodiversity Hotspot', type: 'theory' },
                    { id: 6, title: 'MCQ 6: Project Tiger', type: 'theory' },
                    { id: 7, title: 'MCQ 7: Red Data Book', type: 'theory' },
                    { id: 8, title: 'MCQ 8: Ex-situ Conservation', type: 'theory' },
                    { id: 9, title: 'MCQ 9: Eutrophication', type: 'theory' },
                    { id: 10, title: 'MCQ 10: Succession', type: 'theory' },
                    { id: 11, title: 'MCQ 11: Hydrogen Fuel', type: 'theory' },
                    { id: 12, title: 'MCQ 12: Solar Cells', type: 'theory' },
                    { id: 13, title: 'MCQ 13: Hydrogen Problem', type: 'theory' },
                    { id: 14, title: 'MCQ 14: Biomass', type: 'theory' },
                    { id: 15, title: 'MCQ 15: Biogas', type: 'theory' },
                    { id: 16, title: 'MCQ 16: Geothermal', type: 'theory' },
                    { id: 17, title: 'MCQ 17: Disaster Mgt Aim', type: 'theory' },
                    { id: 18, title: 'MCQ 18: DM Phases', type: 'theory' },
                    { id: 19, title: 'MCQ 19: Sustainable Mining', type: 'theory' },
                    { id: 20, title: 'MCQ 20: Carbon Trading', type: 'theory' },
                    { id: 21, title: 'MCQ 21: Blue Baby', type: 'theory' },
                    { id: 22, title: 'MCQ 22: Global Warming', type: 'theory' },
                    { id: 23, title: 'MCQ 23: Acid Rain pH', type: 'theory' },
                    { id: 24, title: 'MCQ 24: Acid Rain Cause', type: 'theory' },
                    { id: 25, title: 'MCQ 25: Hearing Loss', type: 'theory' },
                    { id: 26, title: 'MCQ 26: Noise 120 dB', type: 'theory' },
                    { id: 27, title: 'MCQ 27: Minamata Disease', type: 'theory' },
                    { id: 28, title: 'MCQ 28: Leachate', type: 'theory' },
                    { id: 29, title: 'MCQ 29: Anatomical Waste', type: 'theory' },
                    { id: 30, title: 'MCQ 30: Basel Convention', type: 'theory' },
                    { id: 31, title: 'MCQ 31: Ozone Layer', type: 'theory' },
                    { id: 32, title: 'MCQ 32: CFCs', type: 'theory' },
                    { id: 33, title: 'MCQ 33: Montreal Protocol', type: 'theory' },
                    { id: 34, title: 'MCQ 34: Kyoto Protocol', type: 'theory' },
                    { id: 35, title: 'MCQ 35: Land Subsidence', type: 'theory' },
                    { id: 36, title: 'MCQ 36: Fluorosis', type: 'theory' },
                    { id: 37, title: 'MCQ 37: Nalgonda Technique', type: 'theory' },
                    { id: 38, title: 'MCQ 38: Methane Potency', type: 'theory' },
                    { id: 39, title: 'MCQ 39: Bioaccumulation', type: 'theory' },
                    { id: 40, title: 'MCQ 40: Ocean Acidification', type: 'theory' },
                    { id: 41, title: 'MCQ 41: Narmada Andolan', type: 'theory' },
                    { id: 42, title: 'MCQ 42: NDMA', type: 'theory' },
                    { id: 43, title: 'MCQ 43: Gujarat Earthquake', type: 'theory' },
                    { id: 44, title: 'MCQ 44: Population Growth', type: 'theory' },
                    { id: 45, title: 'MCQ 45: R&R Goal', type: 'theory' },
                    { id: 46, title: 'MCQ 46: Natural Disaster', type: 'theory' },
                    { id: 47, title: 'MCQ 47: Kedarnath', type: 'theory' },
                    { id: 48, title: 'MCQ 48: MAR', type: 'theory' },
                    { id: 49, title: 'MCQ 49: Cyclone Fani', type: 'theory' },
                    { id: 50, title: 'MCQ 50: Global Population', type: 'theory' },
                ]
            }
        };

        let moduleData = esModuleData;
        let currentModule = 1;
        let currentQuestion = 1;

        const icons = {
            graph: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>',
            table: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="3" y1="15" x2="21" y2="15"></line><line x1="12" y1="3" x2="12" y2="21"></line></svg>',
            theory: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>',
            calc: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="4" y="2" width="16" height="20" rx="2"></rect><line x1="8" y1="6" x2="16" y2="6"></line></svg>',
            chevron: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>'
        };

        document.addEventListener('DOMContentLoaded', () => {
            renderQuestionList();
            renderContent();
            setupEventListeners();
        });

        function setupEventListeners() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            document.getElementById('openSidebar').addEventListener('click', () => {
                sidebar.classList.add('active');
                overlay.classList.add('active');
            });
            document.getElementById('closeSidebar').addEventListener('click', closeSidebar);
            overlay.addEventListener('click', closeSidebar);
            setupModuleTabListeners();
        }

        function setupModuleTabListeners() {
            document.querySelectorAll('.module-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    currentModule = tab.dataset.module === 'IMP' ? 'IMP' : parseInt(tab.dataset.module);
                    currentQuestion = moduleData[currentModule].questions[0].id;
                    updateModuleTabs();
                    renderQuestionList();
                    renderContent();
                });
            });
        }

        function closeSidebar() {
            document.getElementById('sidebar').classList.remove('active');
            document.getElementById('sidebarOverlay').classList.remove('active');
        }

        function updateModuleTabs() {
            document.querySelectorAll('.module-tab').forEach(tab => {
                const tabModule = tab.dataset.module === 'IMP' ? 'IMP' : parseInt(tab.dataset.module);
                tab.classList.toggle('active', tabModule === currentModule);
            });
            const modTitle = currentModule === 'IMP' ? 'Important MCQs' : `Module ${currentModule}: ${moduleData[currentModule].title}`;
            const mobTitle = currentModule === 'IMP' ? 'Important MCQs' : `Module ${currentModule} MCQs`;
            document.getElementById('moduleTitle').textContent = modTitle;
            document.getElementById('mobileTitle').textContent = mobTitle;
        }

        function renderQuestionList() {
            const container = document.getElementById('questionList');
            const questions = moduleData[currentModule].questions;
            container.innerHTML = questions.map(q => `
                <button class="question-btn ${q.id === currentQuestion ? 'active' : ''}" onclick="selectQuestion(${q.id})">
                    <div class="question-btn-content">
                        <span class="question-number">${q.id}</span>
                        <span class="question-title">${q.title}</span>
                    </div>
                    <span class="question-icon icon-${q.type}">${icons[q.type]}</span>
                </button>
            `).join('');
            updateModuleTabs();
        }

        function selectQuestion(id) {
            currentQuestion = id;
            renderQuestionList();
            renderContent();
            closeSidebar();
        }

        function renderContent() {
            const container = document.getElementById('contentContainer');
            const prefix = currentModule === 'IMP' ? 'ESIMP' : `ESM${currentModule}`;
            const renderer = window[`render${prefix}Q${currentQuestion}`];
            container.innerHTML = renderer ? renderer() : renderPlaceholder();
            container.classList.add('fade-in');
            setTimeout(() => container.classList.remove('fade-in'), 400);
            if (typeof renderMathInElement !== 'undefined') {
                renderMathInElement(container, {
                    delimiters: [{ left: "$$", right: "$$", display: true }, { left: "$", right: "$", display: false }]
                });
            }
        }

        function renderPlaceholder() {
            return `<div class="section"><p>Content for this question is being prepared...</p></div>`;
        }

        function header(title, subtitle, iconType = 'theory') {
            return `<div class="solution-header"><div class="solution-header-content"><div class="solution-icon">${icons[iconType] || icons.theory}</div><h2 class="solution-title">${title}</h2></div>${subtitle ? `<p class="solution-subtitle">${subtitle}</p>` : ''}</div>`;
        }

        function section(title, content) {
            return `<div class="section"><h3 class="section-title">${icons.chevron} ${title}</h3><div class="section-content">${content}</div></div>`;
        }

        function answer(label, value) {
            return `<div class="answer-box"><div class="answer-box-title">‚úì ${label}</div><div class="answer-value">${value}</div></div>`;
        }
    </script>
</body>

</html>