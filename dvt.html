<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Visualization with Tableau - BCA III Question Bank</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
</head>

<body>
    <div class="app-container" id="appContainer">
        <div class="sidebar-overlay" id="sidebarOverlay"></div>
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div>
                    <p id="currentSubjectTitle">üìà Data Visualization</p>
                    <p>BCA III Question Bank</p>
                </div>
                <button class="close-btn" id="closeSidebar">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="module-tabs" id="moduleTabs">
                <button class="module-tab active" data-module="1">M1</button>
                <button class="module-tab" data-module="2">M2</button>
                <button class="module-tab" data-module="3">M3</button>
                <button class="module-tab" data-module="4">M4</button>
                <button class="module-tab" data-module="5">M5</button>
            </div>
            <div class="module-title" id="moduleTitle">Module 1: Excel & Data Management</div>
            <nav class="sidebar-nav" id="questionList"></nav>
            <div class="sidebar-footer">
                <a href="index.html" class="back-link">‚Üê Back to Home</a>
            </div>
        </aside>
        <main class="main-content">
            <header class="mobile-header">
                <button class="menu-btn" id="openSidebar">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                <span id="mobileTitle">Module 1 Solutions</span>
                <a href="index.html" class="home-btn" title="Back to Home">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                </a>
            </header>
            <div class="content-wrapper">
                <div class="content-container" id="contentContainer"></div>
            </div>
        </main>
    </div>

    <!-- DVT Modules -->
    <script src="dvt/module1.js"></script>
    <script src="dvt/module2.js"></script>
    <script src="dvt/module3.js"></script>
    <script src="dvt/module4.js"></script>
    <script src="dvt/module5.js"></script>

    <script>
        // DVT Module Data Structure
        const dvtModuleData = {
            1: {
                title: "Excel & Data Management",
                questions: [
                    { id: 1, title: 'Q1: Workbook & Worksheet', type: 'theory' },
                    { id: 2, title: 'Q2: Data Types', type: 'theory' },
                    { id: 3, title: 'Q3: Cell Formatting', type: 'theory' },
                    { id: 4, title: 'Q4: SUM & AVERAGE', type: 'calc' },
                    { id: 5, title: 'Q5: Conditional Formatting', type: 'theory' },
                    { id: 6, title: 'Q6: PivotTable', type: 'theory' },
                    { id: 7, title: 'Q7: Linking Data', type: 'theory' },
                    { id: 8, title: 'Q8: Power Query Duplicates', type: 'theory' },
                    { id: 9, title: 'Q9: Macros', type: 'theory' },
                    { id: 10, title: 'Q10: Power Pivot', type: 'theory' },
                    { id: 11, title: 'Q11: Excel Interface', type: 'theory' },
                    { id: 12, title: 'Q12: Chart Types', type: 'theory' },
                    { id: 13, title: 'Q13: VLOOKUP', type: 'calc' },
                    { id: 14, title: 'Q14: Pivot Charts', type: 'theory' },
                    { id: 15, title: 'Q15: Consolidating Data', type: 'theory' },
                    { id: 16, title: 'Q16: Formatting Importance', type: 'theory' },
                    { id: 17, title: 'Q17: Power Query Cleaning', type: 'theory' },
                    { id: 18, title: 'Q18: VBA', type: 'theory' },
                    { id: 19, title: 'Q19: Best Practices', type: 'theory' },
                    { id: 20, title: 'Q20: Linking & Consolidating', type: 'theory' },
                ]
            },
            2: {
                title: "Data Science & Tableau Basics",
                questions: [
                    { id: 1, title: 'Q1: What is Data Science', type: 'theory' },
                    { id: 2, title: 'Q2: What is Tableau', type: 'theory' },
                    { id: 3, title: 'Q3: Tableau Terminology', type: 'theory' },
                    { id: 4, title: 'Q4: Data Studio vs Tableau', type: 'theory' },
                    { id: 5, title: 'Q5: Design Flow', type: 'theory' },
                    { id: 6, title: 'Q6: Data Types', type: 'theory' },
                    { id: 7, title: 'Q7: Navigation', type: 'theory' },
                    { id: 8, title: 'Q8: Connect to Excel', type: 'theory' },
                    { id: 9, title: 'Q9: Change Data Types', type: 'theory' },
                    { id: 10, title: 'Q10: Types of Joins', type: 'theory' },
                ]
            },
            3: {
                title: "Visualization & Calculations",
                questions: [
                    { id: 1, title: 'Q1: Visualization Steps', type: 'theory' },
                    { id: 2, title: 'Q2: Changing Order', type: 'theory' },
                    { id: 3, title: 'Q3: Changing Summary', type: 'theory' },
                    { id: 4, title: 'Q4: Operators', type: 'calc' },
                    { id: 5, title: 'Q5: Logical Functions', type: 'calc' },
                    { id: 6, title: 'Q6: IF-ELSE Expressions', type: 'calc' },
                    { id: 7, title: 'Q7: Quick Table Calculations', type: 'calc' },
                    { id: 8, title: 'Q8: LOD Expressions', type: 'calc' },
                    { id: 9, title: 'Q9: SUM, AVG, COUNT', type: 'calc' },
                    { id: 10, title: 'Q10: ISNULL Field', type: 'calc' },
                    { id: 11, title: 'Q11: CASE Expression', type: 'calc' },
                    { id: 12, title: 'Q12: Calculated Fields', type: 'calc' },
                    { id: 13, title: 'Q13: Aggregate Functions', type: 'calc' },
                    { id: 14, title: 'Q14: Highlight Table', type: 'theory' },
                    { id: 15, title: 'Q15: CASE Syntax', type: 'calc' },
                    { id: 16, title: 'Q16: ISNULL vs ZN vs IFNULL', type: 'calc' },
                ]
            },
            4: {
                title: "Filtering, Grouping & Parameters",
                questions: [
                    { id: 1, title: 'Q1: Filtering Basics', type: 'theory' },
                    { id: 2, title: 'Q2: Types of Filters', type: 'theory' },
                    { id: 3, title: 'Q3: Quick Filters', type: 'theory' },
                    { id: 4, title: 'Q4: Creating Quick Filters', type: 'theory' },
                    { id: 5, title: 'Q5: Context Filters', type: 'theory' },
                    { id: 6, title: 'Q6: Conditional Filtering', type: 'theory' },
                    { id: 7, title: 'Q7: Slicing Filter', type: 'theory' },
                    { id: 8, title: 'Q8: Grouping', type: 'theory' },
                    { id: 9, title: 'Q9: Hierarchy', type: 'theory' },
                    { id: 10, title: 'Q10: Sets', type: 'theory' },
                    { id: 11, title: 'Q11: Sets vs Combined Sets', type: 'theory' },
                    { id: 12, title: 'Q12: Parameters', type: 'theory' },
                    { id: 13, title: 'Q13: Bins', type: 'theory' },
                    { id: 14, title: 'Q14: Manual Sorting', type: 'theory' },
                    { id: 15, title: 'Q15: Data Source Order', type: 'theory' },
                    { id: 16, title: 'Q16: Sorting by Field', type: 'theory' },
                    { id: 17, title: 'Q17: Manual vs Field Sorting', type: 'theory' },
                    { id: 18, title: 'Q18: Bar Chart Sorting', type: 'theory' },
                    { id: 19, title: 'Q19: Conditional Filters', type: 'theory' },
                ]
            },
            5: {
                title: "Charts & Dashboards",
                questions: [
                    { id: 1, title: 'Q1: Funnel Chart', type: 'theory' },
                    { id: 2, title: 'Q2: Waterfall Chart', type: 'theory' },
                    { id: 3, title: 'Q3: Five Chart Types', type: 'theory' },
                    { id: 4, title: 'Q4: Bar vs Stacked Bar', type: 'theory' },
                    { id: 5, title: 'Q5: Line vs Area Chart', type: 'theory' },
                    { id: 6, title: 'Q6: Scatter vs Bubble', type: 'theory' },
                    { id: 7, title: 'Q7: Gantt Chart', type: 'theory' },
                    { id: 8, title: 'Q8: Symbol vs Filled Map', type: 'theory' },
                    { id: 9, title: 'Q9: Circle vs Bubble Views', type: 'theory' },
                    { id: 10, title: 'Q10: Worksheet vs Dashboard Filters', type: 'theory' },
                    { id: 11, title: 'Q11: Dashboard vs Worksheet', type: 'theory' },
                    { id: 12, title: 'Q12: Tiled vs Floating', type: 'theory' },
                    { id: 13, title: 'Q13: Dashboard Filters', type: 'theory' },
                ]
            }
        };

        // Current state
        let moduleData = dvtModuleData;
        let currentModule = 1;
        let currentQuestion = 1;

        // Icons
        const icons = {
            graph: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>',
            table: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="3" y1="15" x2="21" y2="15"></line><line x1="12" y1="3" x2="12" y2="21"></line></svg>',
            theory: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>',
            calc: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="4" y="2" width="16" height="20" rx="2"></rect><line x1="8" y1="6" x2="16" y2="6"></line><line x1="8" y1="14" x2="8" y2="18"></line><line x1="12" y1="14" x2="12" y2="18"></line><line x1="16" y1="14" x2="16" y2="18"></line></svg>',
            code: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>',
            chevron: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>'
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderQuestionList();
            renderContent();
            setupEventListeners();
        });

        function setupEventListeners() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            document.getElementById('openSidebar').addEventListener('click', () => {
                sidebar.classList.add('active');
                overlay.classList.add('active');
            });
            document.getElementById('closeSidebar').addEventListener('click', closeSidebar);
            overlay.addEventListener('click', closeSidebar);
            setupModuleTabListeners();
        }

        function setupModuleTabListeners() {
            document.querySelectorAll('.module-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    currentModule = parseInt(tab.dataset.module);
                    currentQuestion = moduleData[currentModule].questions[0].id;
                    updateModuleTabs();
                    renderQuestionList();
                    renderContent();
                });
            });
        }

        function closeSidebar() {
            document.getElementById('sidebar').classList.remove('active');
            document.getElementById('sidebarOverlay').classList.remove('active');
        }

        function updateModuleTabs() {
            document.querySelectorAll('.module-tab').forEach(tab => {
                tab.classList.toggle('active', parseInt(tab.dataset.module) === currentModule);
            });
            document.getElementById('moduleTitle').textContent = `Module ${currentModule}: ${moduleData[currentModule].title}`;
            document.getElementById('mobileTitle').textContent = `Module ${currentModule} Solutions`;
        }

        function renderQuestionList() {
            const container = document.getElementById('questionList');
            const questions = moduleData[currentModule].questions;
            container.innerHTML = questions.map(q => `
                <button class="question-btn ${q.id === currentQuestion ? 'active' : ''}" onclick="selectQuestion(${q.id})">
                    <div class="question-btn-content">
                        <span class="question-number">${q.id}</span>
                        <span class="question-title">${q.title}</span>
                    </div>
                    <span class="question-icon icon-${q.type}">${icons[q.type]}</span>
                </button>
            `).join('');
            updateModuleTabs();
        }

        function selectQuestion(id) {
            currentQuestion = id;
            renderQuestionList();
            renderContent();
            closeSidebar();
        }

        function renderContent() {
            const container = document.getElementById('contentContainer');
            const renderer = window[`renderDVTM${currentModule}Q${currentQuestion}`];
            container.innerHTML = renderer ? renderer() : renderPlaceholder();
            container.classList.add('fade-in');
            setTimeout(() => container.classList.remove('fade-in'), 400);
            if (typeof renderMathInElement !== 'undefined') {
                renderMathInElement(container, {
                    delimiters: [{ left: "$$", right: "$$", display: true }, { left: "$", right: "$", display: false }]
                });
            }
        }

        function renderPlaceholder() {
            return `<div class="section"><p>Content for this question is being prepared...</p></div>`;
        }

        function header(title, subtitle, iconType = 'calc') {
            return `<div class="solution-header"><div class="solution-header-content"><div class="solution-icon">${icons[iconType] || icons.calc}</div><h2 class="solution-title">${title}</h2></div>${subtitle ? `<p class="solution-subtitle">${subtitle}</p>` : ''}</div>`;
        }

        function section(title, content) {
            return `<div class="section"><h3 class="section-title">${icons.chevron} ${title}</h3><div class="section-content">${content}</div></div>`;
        }

        function answer(label, value) {
            return `<div class="answer-box"><div class="answer-box-title">‚úì ${label}</div><div class="answer-value">${value}</div></div>`;
        }

        function note(text) {
            return `<div class="note-box"><strong>Note:</strong> ${text}</div>`;
        }

        function formula(tex) {
            return `<div class="formula-box">$$${tex}$$</div>`;
        }

        function calcStep(title, content) {
            return `<div class="calc-step"><div class="calc-step-title">${title}</div>${content}</div>`;
        }

        function codeBlock(code, language = 'sql') {
            return `<pre class="code-block"><code class="language-${language}">${escapeHtml(code)}</code></pre>`;
        }

        function escapeHtml(text) {
            const map = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;' };
            return text.replace(/[&<>"']/g, m => map[m]);
        }

        function table(headers, rows) {
            return `
                <table class="data-table">
                    <thead><tr>${headers.map(h => `<th>${h}</th>`).join('')}</tr></thead>
                    <tbody>${rows.map(row => `<tr>${row.map(cell => `<td>${cell}</td>`).join('')}</tr>`).join('')}</tbody>
                </table>
            `;
        }
    </script>
</body>

</html>